// @vegas-VGLawCookie v1.0.9
/*! js-cookie v3.0.1 | MIT */
function t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}var e=function e(n,o){function r(e,r,i){if("undefined"!=typeof document){"number"==typeof(i=t({},o,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var s in i)i[s]&&(c+="; "+s,!0!==i[s]&&(c+="="+i[s].split(";")[0]));return document.cookie=e+"="+n.write(r,e)+c}}return Object.create({set:r,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var e=document.cookie?document.cookie.split("; "):[],o={},r=0;r<e.length;r++){var i=e[r].split("="),c=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(o[s]=n.read(c,s),t===s)break}catch(t){}}return t?o[t]:o}},remove:function(e,n){r(e,"",t({},n,{expires:-1}))},withAttributes:function(n){return e(this.converter,t({},this.attributes,n))},withConverter:function(n){return e(t({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(n)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class n{constructor(t={}){this.container=document.getElementById("vg-lawCookie");this.settings=function t(...e){const n=t=>t&&"object"==typeof t;return e.reduce(((e,o)=>(Object.keys(o).forEach((r=>{const i=e[r],c=o[r];Array.isArray(i)&&Array.isArray(c)?e[r]=i.concat(...c):n(i)&&n(c)?e[r]=t(i,c):e[r]=c})),e)),{})}({content:{text:{default:"Используя данный сайт, вы даете согласие на использование файлов cookie.",btnSuccess:"Хорошо",btnMore:"Подробнее"},btn:{classes:["btn","btn-primary"]}},privacyLink:"",enableCookie:!1,cookie:{name:"lawCookie",value:"yes",attributes:{}}},t),this.init()}init(){let t=this,e=t.storage(!0);if(!t.container){if(t.container=document.createElement("div"),t.container.setAttribute("id","vg-lawCookie"),t.container.classList.add("vg-lawCookie"),t.container.insertAdjacentHTML("beforeend",`\n\t\t\t\t<div class="vg-lawCookie--content">\n\t\t\t\t\t<p class="text-content">\n\t\t\t\t\t\t${t.settings.content.text.default}\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class="btn-area">\n\t\t\t\t\t\t<a href="#" data-lc-confirm>${t.settings.content.text.btnSuccess}</a>\n\t\t\t\t\t\t${t.privacyLink()}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t`),t.settings.content.btn.classes.length){let e=t.container.querySelector("[data-lc-confirm]");for(let n of t.settings.content.btn.classes)e.classList.add(n)}document.body.appendChild(t.container)}if(!e){setTimeout((()=>{t.container.classList.add("show")}),500),t.container.querySelector("[data-lc-confirm]").onclick=function(){return t.container.classList.remove("show"),t.storage(!1,!0),!1}}}storage(t=!1,n=!1){let o=this,r=o.settings.cookie.name,i=o.settings.cookie.value,c=o.settings.cookie.attributes,s=null,a=o.settings.enableCookie;return s=a?e:localStorage,t?a?s.get(r):s.getItem(r):n?a?s.set(r,i,c):s.setItem(r,i):void 0}privacyLink(){return this.settings.privacyLink&&""`<a href="${this.settings.privacyLink}" data-lc-more>${this.settings.content.text.btnMore}</a>`,""}clear(t=!0){let n=this;return t?(e.remove(n.settings.cookie.name),localStorage.clear()):n.settings.enableCookie?e.remove(n.settings.cookie.name):localStorage.clear(),console.log(e),console.log(localStorage),!1}}export{n as VGLawCookie};
