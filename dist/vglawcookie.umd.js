// @vegas-VGLawCookie v1.1.0
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).window=t.window||{})}(this,(function(t){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function c(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){s=!0,a=t},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw a}}}}
/*! js-cookie v3.0.1 | MIT */function s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}var l=function t(e,n){function o(t,o,r){if("undefined"!=typeof document){"number"==typeof(r=s({},n,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var a in r)r[a]&&(i+="; "+a,!0!==r[a]&&(i+="="+r[a].split(";")[0]));return document.cookie=t+"="+e.write(o,t)+i}}return Object.create({set:o,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],o={},r=0;r<n.length;r++){var i=n[r].split("="),a=i.slice(1).join("=");try{var c=decodeURIComponent(i[0]);if(o[c]=e.read(a,c),t===c)break}catch(t){}}return t?o[t]:o}},remove:function(t,e){o(t,"",s({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,s({},this.attributes,e))},withConverter:function(e){return t(s({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),u=function(){function t(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this.container=document.getElementById("vg-lawCookie");var i={content:{text:"Используя данный сайт, вы даете согласие на использование файлов cookie.",btnAccept:{classes:["btn","btn-primary"],text:"Принять"},btnMore:{classes:["btn","btn-link"],text:"Подробнее",link:"/privacy-policy"}},storage:"local",enableLinkMore:!1,cookie:{name:"lawCookie",value:"yes",attributes:{}}};function a(){for(var t=function(t){return t&&"object"===e(t)},n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return o.reduce((function(e,n){return Object.keys(n).forEach((function(o){var i=e[o],c=n[o];Array.isArray(i)&&Array.isArray(c)?e[o]=i.concat.apply(i,r(c)):t(i)&&t(c)?e[o]=a(i,c):e[o]=c})),e}),{})}this.settings=a(i,o),this.init()}var i,a,s;return i=t,a=[{key:"init",value:function(){var t=this,e=t.storage(!0);if(!t.container){if(t.container=document.createElement("div"),t.container.setAttribute("id","vg-lawCookie"),t.container.classList.add("vg-lawCookie"),t.container.insertAdjacentHTML("beforeend",'\n\t\t\t\t<div class="vg-lawCookie--content">\n\t\t\t\t\t<p class="text-content">\n\t\t\t\t\t\t'.concat(t.settings.content.text,'\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class="btn-area">\n\t\t\t\t\t\t<button data-lc-confirm>').concat(t.settings.content.btnAccept.text,"</button>\n\t\t\t\t\t\t").concat(t.setLinkMore(),"\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t")),t.settings.content.btnAccept.classes.length){var n,o=t.container.querySelector("[data-lc-confirm]"),r=c(t.settings.content.btnAccept.classes);try{for(r.s();!(n=r.n()).done;){var i=n.value;o.classList.add(i)}}catch(t){r.e(t)}finally{r.f()}}if(t.settings.content.btnMore.classes.length){var a,s=t.container.querySelector("[data-lc-more]"),l=c(t.settings.content.btnMore.classes);try{for(l.s();!(a=l.n()).done;){var u=a.value;s.classList.add(u)}}catch(t){l.e(t)}finally{l.f()}}document.body.appendChild(t.container)}e||(setTimeout((function(){t.container.classList.add("show")}),500),t.container.querySelector("[data-lc-confirm]").onclick=function(){return t.container.classList.remove("show"),t.storage(!1,!0),!1})}},{key:"storage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,o=n.settings.cookie.name,r=n.settings.cookie.value,i=n.settings.cookie.attributes,a=null,c="cookie"===n.settings.storage;return a=c?l:localStorage,t?c?a.get(o):a.getItem(o):e?c?a.set(o,r,i):a.setItem(o,r):void 0}},{key:"setLinkMore",value:function(){var t=this,e="";return t.settings.enableLinkMore&&(e='<a href="'.concat(t.settings.content.btnMore.link,'" data-lc-more>').concat(t.settings.content.btnMore.text,"</a>")),e}}],s=[{key:"clear",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=new this;return t?(l.remove(e.settings.cookie.name),localStorage.clear()):"cookie"===e.settings.storage?l.remove(e.settings.cookie.name):localStorage.clear(),console.log(l),console.log(localStorage),!1}}],a&&o(i.prototype,a),s&&o(i,s),Object.defineProperty(i,"prototype",{writable:!1}),t}();t.VGLawCookie=u}));
